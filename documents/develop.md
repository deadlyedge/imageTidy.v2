## 适合用 AI 的部分

- 从路径里抽“项目标签”：  
  - 例如 “龙湖固定家具(定稿07-04-25)”“龙湖会所变更图纸（5.8）”“龙湖图片” 都可以归并成 “龙湖”。  
  - 模型比较擅长处理这些含糊命名、相似词（美泉宫 / 美全宫）等。  
- 从时间分布推“时间段标签”：  
  - 统计每个项目相关文件的修改时间，观察集中在哪几年，然后让 AI 帮你建议区间命名：如 “2006-2007 龙湖第一阶段”“2010-2012 龙湖改造阶段”等。  
- 设计最终目录名：  
  - 对每个 `(时间段, 项目)` 组合，让 AI 返回统一命名，如 `2010-2012-龙湖/cad`、`2010-2012-龙湖/照片`、`2006-2007-美泉宫/扫描图纸` 之类。  

AI 的工作就是：把一堆“原始路径 + 时间统计”压成少量、人类可读、统一风格的“项目-时间桶”。

## 必须由脚本控制的部分

- 精确的文件分组逻辑：  
  - 例如：凡是路径里包含 “龙湖”“龙湖会所”“龙湖固定家具”“龙湖会馆” 且修改时间在 2010–2012 的，归入 `2010-2012-龙湖`。  
  - 这一部分用你自己写的规则/映射（可以从 AI 建议来，但最终由你确认后固化为配置）。  
- 实际移动和冲突处理：  
  - 避免重名覆盖、保持日志、支持 dry-run。  
  - 真移动时强烈建议只用脚本，不通过 AI 再做“二次决策”。

## 建议的工作流

1. **扫描并聚合元数据**  
   - 用 Python 扫描所有文件，记下：路径、扩展名、修改时间。  
   - 抽取中间目录名（如 “龙湖固定家具”“美泉宫一居室CAD”“昆泰生产图”）作为候选项目标签。  

2. **先本地聚类，再让 AI 命名**  
   - 先按“是否包含某些关键字”/“同一上级路径”粗分，比如：包含“龙湖”的一堆文件、包含“香山”的一堆文件。  
   - 对每一堆，计算文件修改时间的 min/max，大致得出“2006–2007”“2010–2012”这样区间。  
   - 把这组信息（关键词集合 + 典型路径 + 时间区间 + 文件类型比例）喂给 AI，请它给出：  
     - 最终项目名（例如统一叫“龙湖”而不是 N 个变体）。  
     - 推荐时间段划分：比如“2006–2007”“2008–2010”“2010–2012”。  
     - 每个 `(时间段, 项目)` 的目标目录名模板。  

3. **把 AI 输出固化成配置**  
   - 把这些建议写入一个 JSON/YAML，例如：  
     - `"project": "龙湖", "keywords": ["龙湖", "龙湖会所", "龙湖固定家具"], "time_ranges": [{"label": "2006-2007", "from": "2006-01-01", "to": "2007-12-31"}, ...]`。  
   - 整理脚本不再“在线问 AI”，而是完全依据这份配置决定：某个文件属于哪一个 `(项目, 时间段)` 桶和 `cad/照片/文档` 子类型。  

4. **生成并审核移动计划**  
   - 脚本根据配置生成一份 CSV：`old_path, new_path, project, time_bucket, type`。  
   - 你检查几百条 sample，确认 “2010-2012-龙湖/cad” 里真的都是同一时期、同一项目的 CAD。  
   - 没问题后再执行一次真正移动。  

## 你要特别注意的风险点

- **历史语义可能丢失**：一些文件夹名里可能有你父亲特有的工作语义（比如某个客户名），AI 和自动规则不一定理解，过度“归并”可能会把这些微妙区别抹平。应该保存初始文件路径为类似`店中店`/`老爸`这样的标签list，然后在最终完成文件移动后，将文件重命名为`.../.../店中店-老爸-<源文件名>`这样的格式（最好过滤掉`新建文件夹`这个无意义的标签）。
  ```text
  ├─店中店
  │ ├─Fw_001 奔牛节
  │ ├─新建文件夹 (2)
  │ └─老爸
  │ ├─老爸照片
  │ └─香山CAD-0
  │ ├─5.24
  │ │ ├─D3户型
  │ │ │ ├─刘
  │ │ │ ├─金房zz
  │ │ │ └─陆
  ```
